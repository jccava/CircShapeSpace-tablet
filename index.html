<!doctype html>

<head>
	<meta name="mobile-web-app-capable" content="yes"> <!-- full screen https://developer.chrome.com/multidevice/android/installtohomescreen -->

	<meta name="viewport" content="width=device-width, user-scalable=no"> <!-- do not allow window rescaling.  To avoid window rescaling in portrait mode, added with=device-width from http://stackoverflow.com/questions/22771523/ipad-w-retina-safari-reported-dimensions-in-landscape-make-no-sense -->

	<!-- this one gets the newest version of dropbox SDK, but that causes errors with current code so I changed it to an earlier version
	<script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>-->
	<script src="https://unpkg.com/dropbox@5.2.1/dist/Dropbox-sdk.min.js"></script>
	<script src="mturkautomator.js" type="text/javascript"></script>
	
	<script> //GLOBAL VARS
		var nightlySwitch=0;
		var nightlySwitchGauss=1;
		var batteryPercent=[];
		var trialTime=[];
		var colorR_lo = [140,139,139,138,140,140,139,140,140,140,140,140,138,138,138,138,138,138,138,138,138,138,138,138,137,137,137,137,137,135,136,136,136,135,135,135,133,133,133,133,133,133,132,132,132,131,129,130,130,128,128,128,129,129,129,129,129,127,127,126,126,125,125,125,125,121,124,123,121,121,119,119,119,119,119,119,119,118,118,118,117,116,116,116,114,114,114,114,114,111,111,111,108,108,108,101,101,101,101,101,100,100,98,99,97,97,95,96,96,96,91,90,90,90,89,86,84,84,80,80,80,80,77,76,75,73,73,73,70,70,70,70,68,68,66,63,63,62,62,62,59,59,58,54,54,53,53,50,50,50,51,47,47,47,48,45,45,42,42,42,42,42,42,39,39,38,38,35,35,35,35,35,35,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,35,38,38,38,38,39,42,42,46,46,46,46,50,50,55,55,55,58,58,59,59,62,63,63,63,63,69,69,70,74,77,77,77,80,84,84,87,87,87,87,90,90,93,93,93,93,93,93,96,96,99,99,99,99,99,102,102,102,102,105,108,108,108,108,111,111,111,114,117,117,117,117,120,120,120,120,122,122,122,122,125,125,125,125,126,126,126,129,132,132,132,132,133,133,133,133,136,136,136,135,135,138,138,138,138,139,139,140,140,140,141,141,141,142,140,140,140,140,140,140,140,140,140,137,140,140,140,140,140,140,140,140,143,143,143,143,143,143,143,143,143,143,143,143,143,143,143,143];
		var colorG_lo = [66,67,67,69,69,69,70,70,69,69,69,69,69,69,69,71,71,72,72,73,73,73,73,73,74,75,75,75,75,76,76,76,76,77,78,78,79,79,79,79,82,82,81,81,81,81,82,82,82,84,84,84,85,85,85,85,85,86,86,88,87,88,88,88,90,89,89,89,90,90,91,91,91,91,92,92,92,93,93,93,95,96,96,96,96,96,96,96,96,97,97,97,97,97,97,96,96,96,96,96,97,97,96,97,98,97,98,99,99,99,98,98,98,98,99,99,98,98,98,99,99,99,99,99,101,99,99,101,101,101,99,99,100,100,100,99,99,99,99,99,99,99,101,101,101,101,101,101,101,101,102,101,101,101,100,100,100,100,100,100,100,100,101,101,101,101,101,102,102,102,102,102,102,102,101,101,99,99,99,99,99,99,99,99,99,99,100,99,99,99,99,99,99,99,99,98,98,98,95,95,95,95,95,95,95,95,95,94,94,94,94,94,94,94,94,93,93,92,92,92,92,92,92,92,91,91,91,90,90,89,89,89,89,89,88,88,88,88,87,87,87,86,86,86,86,85,84,84,82,82,82,82,82,82,80,80,80,80,79,79,79,79,76,76,76,76,76,74,74,74,74,74,72,72,72,72,70,70,70,70,70,70,70,70,70,70,70,70,67,67,67,67,67,67,67,67,66,66,66,64,64,64,64,64,63,63,63,63,63,63,63,61,61,61,61,61,61,60,60,59,59,59,58,58,58,57,58,58,58,58,58,58,58,58,58,59,59,59,59,60,60,60,60,60,60,61,61,62,62,62,62,62,62,64,64,64,64,64,64,64];
		var colorB_lo = [91,91,88,90,88,87,86,87,85,85,85,85,84,81,81,81,81,78,78,78,75,75,75,75,72,72,72,72,72,67,65,65,65,64,64,64,61,61,59,59,59,59,56,56,56,53,52,49,49,47,47,47,45,45,43,43,43,41,41,41,39,37,37,37,37,36,36,35,35,35,33,33,33,33,32,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,34,35,35,35,37,37,37,40,40,40,40,42,42,42,45,45,47,47,47,49,49,52,52,54,56,57,57,60,60,60,60,63,64,64,65,66,66,68,68,68,71,71,73,73,73,75,75,79,79,79,80,80,80,80,84,84,84,85,85,88,88,88,91,91,91,94,94,97,97,97,97,100,103,103,103,103,103,103,103,103,106,106,109,109,109,109,112,112,112,112,112,115,115,118,118,118,118,118,120,120,120,120,121,121,121,121,121,124,124,125,125,125,127,127,127,127,127,129,130,130,132,132,132,132,133,133,134,134,134,134,134,135,135,135,136,136,136,136,136,136,138,140,140,140,140,140,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,144,144,144,144,144,144,144,144,142,142,142,142,142,142,142,142,140,140,140,140,140,140,140,140,138,138,138,138,138,138,138,134,134,134,134,134,134,132,132,130,130,130,128,128,128,126,124,124,121,121,121,121,118,118,118,114,114,114,114,111,111,111,111,111,111,107,107,107,107,104,104,104,104,101,101,101,101,98,98,98];
		var colorR_hi = [236,239,239,242,242,242,242,242,245,241,241,241,241,241,241,241,241,241,239,239,239,239,237,237,237,236,236,235,235,235,232,233,233,233,232,232,231,230,230,230,229,228,228,226,226,223,224,223,223,222,220,219,219,219,219,217,215,215,215,213,214,212,212,212,212,210,210,209,208,208,206,206,206,204,203,203,202,202,202,202,200,197,197,197,197,196,196,193,193,193,190,190,190,186,186,186,185,184,184,181,180,180,179,178,178,176,174,172,172,167,167,163,160,162,160,158,155,153,153,151,148,146,146,143,142,140,138,137,134,131,131,131,127,125,121,121,118,118,116,115,115,109,110,110,106,106,103,103,101,101,98,95,95,92,92,90,90,84,85,85,83,83,80,80,80,80,77,74,74,74,74,71,71,68,70,67,68,68,65,65,66,66,66,66,66,66,63,63,63,63,64,64,65,65,65,65,65,66,66,66,66,66,66,66,66,68,68,68,68,69,69,69,70,74,74,77,77,82,85,85,85,89,89,89,93,93,96,100,100,107,107,110,113,113,116,124,125,128,128,135,135,135,138,143,143,150,158,158,161,163,168,167,169,173,173,176,176,177,177,181,181,182,183,183,184,188,189,190,193,191,193,194,197,199,200,201,201,204,205,205,206,207,208,209,210,210,210,210,210,210,213,216,216,216,218,219,219,221,222,222,225,225,225,226,226,226,229,229,229,229,232,235,235,236,236,236,236,236,238,238,238,241,241,241,241,241,243,243,243,243,243,243,244,244,244,244,244,244,244,245,245,245,245,245,246,246,246,246,246,246,246,244,244,244,244,244,244,244,244,244];
		var colorG_hi = [124,123,123,123,122,122,122,123,124,124,126,126,126,126,126,127,130,130,130,131,132,132,132,134,134,135,136,137,137,137,138,139,139,139,139,141,142,142,142,143,143,144,144,146,146,146,147,148,148,149,149,151,151,151,151,152,152,154,155,155,156,157,156,156,156,157,158,159,159,161,160,162,162,162,163,163,163,163,165,165,166,166,167,168,168,169,169,169,169,169,170,170,170,172,172,172,174,175,175,175,175,175,177,177,177,178,178,178,178,179,179,179,179,180,179,180,181,180,180,180,180,181,181,181,181,182,183,182,182,182,182,182,182,181,182,181,181,183,182,182,182,182,183,183,183,183,183,183,183,183,183,183,183,183,183,184,184,183,183,183,184,184,182,183,183,183,183,183,183,183,183,183,183,181,182,181,181,181,181,180,180,180,180,180,180,180,180,180,179,178,178,178,178,178,177,177,177,176,176,176,175,175,175,175,175,174,174,173,173,174,174,174,173,172,172,173,171,172,172,171,171,170,170,170,169,169,168,168,168,167,167,166,166,166,165,164,164,164,164,162,162,162,161,159,159,159,157,157,155,153,153,152,150,148,148,147,144,145,146,142,141,141,141,140,140,140,139,139,136,136,133,133,133,131,131,131,130,128,126,127,126,126,126,126,125,125,125,125,125,125,125,125,125,125,124,123,123,122,121,121,121,121,120,119,119,119,119,116,116,116,116,116,116,115,115,114,114,114,112,112,112,112,112,111,111,111,109,109,109,109,109,109,108,108,108,108,108,108,109,108,110,110,110,110,110,112,112,112,112,113,113,114,114,114,114,116,116,116,116,118];
		var colorB_hi = [166,167,167,167,165,165,165,162,162,159,159,156,153,153,150,150,150,150,145,142,142,142,141,138,138,134,134,130,130,130,127,123,123,121,119,119,115,114,111,111,109,107,107,103,101,99,98,96,96,93,92,89,88,88,86,83,82,81,80,79,78,77,73,73,73,70,69,69,67,67,66,66,66,64,64,64,62,62,62,62,62,61,61,61,61,61,61,60,60,60,60,60,60,61,61,61,62,63,63,63,64,64,67,69,69,72,72,77,77,78,78,80,83,84,85,89,89,93,93,95,98,99,102,102,103,107,108,110,110,113,116,116,119,120,122,125,125,128,129,131,131,134,135,138,140,140,144,144,145,148,148,151,154,154,154,158,158,160,162,165,167,167,170,171,174,177,177,177,180,180,183,186,186,186,189,189,191,191,194,194,196,196,196,199,202,202,204,204,205,205,207,207,211,211,211,211,215,217,217,217,219,220,222,222,222,226,226,226,226,229,229,229,232,234,234,235,235,239,239,239,239,241,241,241,243,243,243,245,245,248,248,248,248,248,248,252,253,253,253,254,254,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,251,249,247,247,247,247,245,243,243,243,243,240,240,240,240,240,240,237,237,234,234,234,230,230,230,230,230,227,227,227,223,223,223,220,217,217,215,212,212,212,209,206,206,205,202,202,202,199,197,197,197,194,194,191,191,187,184,184,184,181,181,178,178,175];
		var colorRac_lo = [141,141,141,141,141,139,139,139,139,139,139,139,138,138,138,138,138,138,138,140,140,140,140,140,140,140,138,138,138,138,138,138,138,137,137,137,137,137,137,137,136,136,136,136,136,136,136,134,134,134,134,134,134,134,134,134,134,134,134,134,134,132,132,132,132,132,132,132,131,131,131,131,131,131,131,130,130,130,130,130,130,130,130,130,130,130,130,130,130,129,129,129,129,129,129,129,127,127,127,127,127,127,127,126,126,126,126,126,126,126,124,124,124,124,124,124,124,123,123,123,123,123,123,123,123,123,123,123,123,123,123,122,122,122,122,122,122,122,120,120,120,120,120,120,120,118,118,118,118,118,118,118,117,117,117,117,117,117,117,115,115,115,115,115,115,115,116,116,116,116,116,116,116,114,114,114,114,114,114,114,112,112,112,112,112,112,112,111,111,111,111,111,111,111,110,110,110,110,110,110,110,107,107,107,107,107,107,107,104,104,104,104,104,104,104,103,103,103,103,103,103,103,102,102,102,102,102,102,102,100,100,100,100,100,100,100,98,98,98,98,98,98,98,97,97,97,97,97,97,97,94,94,94,94,94,94,94,88,88,88,88,88,88,88,88,88,88,88,88,88,88,86,86,86,86,86,86,86,84,84,84,84,84,84,84,83,83,83,83,83,83,83,79,79,79,79,79,79,79,79,79,79,79,79,79,79,76,76,76,76,76,76,76,74,74,74,74,74,74,74,70,70,70,70,70,70,70,68,68,68,68,68,68,68,65,65,65,65,65,65,65,62,62,62,62,62,62,62,56,56,56,56,56,56,56,53,53,53,53,53];
		var colorGac_lo = [118,118,118,118,118,116,116,116,116,116,116,116,115,115,115,115,115,115,115,114,114,114,114,114,114,114,114,114,114,114,114,114,114,113,113,113,113,113,113,113,112,112,112,112,112,112,112,110,110,110,110,110,110,110,110,110,110,110,110,110,110,108,108,108,108,108,108,108,107,107,107,107,107,107,107,106,106,106,106,106,106,106,106,106,106,106,106,106,106,105,105,105,105,105,105,105,103,103,103,103,103,103,103,102,102,102,102,102,102,102,100,100,100,100,100,100,100,99,99,99,99,99,99,99,99,99,99,99,99,99,99,98,98,98,98,98,98,98,96,96,96,96,96,96,96,94,94,94,94,94,94,94,93,93,93,93,93,93,93,93,93,93,93,93,93,93,91,91,91,91,91,91,91,89,89,89,89,89,89,89,87,87,87,87,87,87,87,86,86,86,86,86,86,86,85,85,85,85,85,85,85,84,84,84,84,84,84,84,83,83,83,83,83,83,83,82,82,82,82,82,82,82,81,81,81,81,81,81,81,79,79,79,79,79,79,79,77,77,77,77,77,77,77,76,76,76,76,76,76,76,75,75,75,75,75,75,75,73,73,73,73,73,73,73,73,73,73,73,73,73,73,71,71,71,71,71,71,71,69,69,69,69,69,69,69,68,68,68,68,68,68,68,65,65,65,65,65,65,65,65,65,65,65,65,65,65,62,62,62,62,62,62,62,60,60,60,60,60,60,60,56,56,56,56,56,56,56,54,54,54,54,54,54,54,51,51,51,51,51,51,51,48,48,48,48,48,48,48,46,46,46,46,46,46,46,43,43,43,43,43];
		var colorBac_lo = [140,140,140,140,140,138,138,138,138,138,138,138,137,137,137,137,137,137,137,136,136,136,136,136,136,136,134,134,134,134,134,134,134,133,133,133,133,133,133,133,132,132,132,132,132,132,132,130,130,130,130,130,130,130,130,130,130,130,130,130,130,128,128,128,128,128,128,128,127,127,127,127,127,127,127,126,126,126,126,126,126,126,126,126,126,126,126,126,126,125,125,125,125,125,125,125,123,123,123,123,123,123,123,122,122,122,122,122,122,122,120,120,120,120,120,120,120,119,119,119,119,119,119,119,119,119,119,119,119,119,119,118,118,118,118,118,118,118,116,116,116,116,116,116,116,114,114,114,114,114,114,114,113,113,113,113,113,113,113,111,111,111,111,111,111,111,109,109,109,109,109,109,109,107,107,107,107,107,107,107,105,105,105,105,105,105,105,104,104,104,104,104,104,104,103,103,103,103,103,103,103,100,100,100,100,100,100,100,97,97,97,97,97,97,97,96,96,96,96,96,96,96,95,95,95,95,95,95,95,93,93,93,93,93,93,93,91,91,91,91,91,91,91,90,90,90,90,90,90,90,87,87,87,87,87,87,87,85,85,85,85,85,85,85,85,85,85,85,85,85,85,83,83,83,83,83,83,83,81,81,81,81,81,81,81,80,80,80,80,80,80,80,75,75,75,75,75,75,75,75,75,75,75,75,75,75,72,72,72,72,72,72,72,70,70,70,70,70,70,70,66,66,66,66,66,66,66,64,64,64,64,64,64,64,61,61,61,61,61,61,61,58,58,58,58,58,58,58,52,52,52,52,52,52,52,49,49,49,49,49];
		var colorRac_hi = [216,216,216,216,216,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,211,210,210,210,210,210,210,210,210,210,210,210,210,210,210,209,209,209,209,209,209,209,209,209,209,209,209,209,209,208,208,208,208,208,208,208,207,207,207,207,207,207,207,206,206,206,206,206,206,206,206,206,206,206,206,206,206,205,205,205,205,205,205,205,205,205,205,205,205,205,205,204,204,204,204,204,204,204,204,204,204,204,204,204,204,203,203,203,203,203,203,203,202,202,202,202,202,202,202,201,201,201,201,201,201,201,200,200,200,200,200,200,200,200,200,200,200,200,200,200,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,198,198,198,198,198,198,198,198,195,195,195,195,195,195,195,195,195,195,195,195,195,195,194,194,194,194,194,194,194,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,193,192,192,192,192,192,192,192,191,191,191,191,191,191,191,191,191,191,191,191,191,191,190,190,190,190,190,190,190,189,189,189,189,189,189,189,188,188,188,188,188,188,188,188,188,188,188,188,188,188,187,187,187,187,187,187,187,187,187,187,187,187,187,187,186,186,186,186,186,186,186,185,185,185,185,185,185,185,185,185,185,185,185,185,185,183,183,183,183,183,183,183,183,183,183,183,183,183,183,180,180,180,180,180,180,180,180,180,180,180,180,180,180,177,177,177,177,177];
		var colorGac_hi = [173,173,173,173,173,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,174,173,173,173,173,173,173,173,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,172,171,171,171,171,171,171,171,171,171,171,171,171,171,171,170,170,170,170,170,170,170,170,170,170,170,170,170,170,169,169,169,169,169,169,169,168,168,168,168,168,168,168,167,167,167,167,167,167,167,167,167,167,167,167,167,167,166,166,166,166,166,166,166,166,166,166,166,166,166,166,165,165,165,165,165,165,165,165,165,165,165,165,165,165,164,164,164,164,164,164,164,164,164,164,164,164,164,164,163,163,163,163,163,163,163,162,162,162,162,162,162,162,162,162,162,162,162,162,162,161,161,161,161,161,161,161,161,161,161,161,161,161,161,160,160,160,160,160,160,160,160,160,160,160,160,160,160,159,159,159,159,159,159,159,159,159,159,159,159,159,159,158,158,158,158,158,158,158,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,157,156,156,156,156,156,156,156,155,155,155,155,155,155,155,155,155,155,155,155,155,155,154,154,154,154,154,154,154,153,153,153,153,153,153,153,152,152,152,152,152,152,152,152,152,152,152,152,152,152,151,151,151,151,151,151,151,151,151,151,151,151,151,151,150,150,150,150,150,150,150,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149,149];
		var colorBac_hi = [209,209,209,209,209,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,206,206,206,206,206,206,206,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,204,203,203,203,203,203,203,203,203,203,203,203,203,203,203,202,202,202,202,202,202,202,202,202,202,202,202,202,202,201,201,201,201,201,201,201,200,200,200,200,200,200,200,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,198,198,198,198,198,198,198,198,197,197,197,197,197,197,197,197,197,197,197,197,197,197,196,196,196,196,196,196,196,195,195,195,195,195,195,195,194,194,194,194,194,194,194,193,193,193,193,193,193,193,193,193,193,193,193,193,193,192,192,192,192,192,192,192,192,192,192,192,192,192,192,191,191,191,191,191,191,191,191,191,191,191,191,191,191,188,188,188,188,188,188,188,188,188,188,188,188,188,188,187,187,187,187,187,187,187,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,185,185,185,185,185,185,185,184,184,184,184,184,184,184,184,184,184,184,184,184,184,183,183,183,183,183,183,183,182,182,182,182,182,182,182,181,181,181,181,181,181,181,181,181,181,181,181,181,181,180,180,180,180,180,180,180,180,180,180,180,180,180,180,179,179,179,179,179,179,179,178,178,178,178,178,178,178,178,178,178,178,178,178,178,176,176,176,176,176,176,176,176,176,176,176,176,176,176,173,173,173,173,173,173,173,173,173,173,173,173,173,173,170,170,170,170,170];
		var colorR=colorR_lo;
		var colorG=colorG_lo;
		var colorB=colorB_lo;
		var routine=[];
		var routineIdx=0;
		var grayPoint = [159,131,154];
		var focalColors = [8,8,68,68,128,128,188,188,248,248,308,308,184,184,8,8,68,68,128,128,188,188,248,248,308,308,184,184];
		var focalCompliments = [6,7,8,9,10,11,0,1,2,3,4,5,13,12,20,21,22,23,24,25,14,15,16,17,18,19,27,26];
		var gaussianCompliments = [14,15,16,17,18,19,20,21,22,23,24,25,26,27,0,1,2,3,4,5,6,7,8,9,10,11,12,13];
		var packTest=1;
		var packSample=1;
		var colorTest=1;
		var colorSample=1;
		var skipSample=1;
		var broadWeights = [0.0199455557126610,0.0199330936351455,0.0199081928343443,0.0198708999457886,0.0198212847407717,0.0197594399088361,0.0196854807692356,0.0195995449126286,0.0195017917745629,0.0193924021426004,0.0192715775992161,0.0191395399028726,0.0189965303099314,0.0188428088403009,0.0186786534899500,0.0185043593936245,0.0183202379412928,0.0181266158520223,0.0179238342091364,0.0177122474606361,0.0174922223889783,0.0172641370543937,0.0170283797159915,0.0167853477349469,0.0165354464640854,0.0162790881281857,0.0160166906992971,0.0157486767713297,0.0154754724381137,0.0151975061790423,0.0149152077563115,0.0146290071276532,0.0143393333783207,0.0140466136759349,0.0137512722516302,0.0134537294107614,0.0131544005762363,0.0128536953673367,0.0125520167166736,0.0122497600277015,0.0119473123749858,0.0116450517491811,0.0113433463484406,0.0110425539177321,0.0107430211372930,0.0104450830612154,0.0101490626069058,0.00985527009592937,0.00956400284650883,0.00927554481772131,0.00899016630521032,0.00870812368801443,0.00842965922590576,0.00815500090643235,0.00788436234066992,0.00761794270651012,0.00735592673814600,0.00709848476026078,0.00684577276528389,0.00659793253194887,0.00635509178327176,0.00611736438196541,0.00588485056121600,0.00565763718867179,0.00543579806143129,0.00521939422976891,0.00500847434729896,0.00480307504525567,0.00460322132855462,0.00440892699130187,0.00422019504942831,0.00403701818814970,0.00385937922198554,0.00368725156511259,0.00352059970988053,0.00335937971137719,0.00320353967599855,0.00305302025205332,0.00290775512051290,0.00276767148410381,0.00263269055303111,0.00250272802571625,0.00237769456303198,0.00225749625461752,0.00214203507596113,0.00203120933504117,0.00192491410742247,0.00182304165880961,0.00172548185416378,0.00163212255259353,0.00154284998733159,0.00145754913021029,0.00137610404014522,0.00129839819523204,0.00122431480815200,0.00115373712467013,0.00108654870509380,0.00102263368863907,0.000961877040728157,0.000904164783312071,0.000849384208379275,0.000797424074872836,0.000748174789295697,0.000701528570335945,0.000657379597891480,0.000615624146916259,0.000576160706548348,0.000538890085013545,0.000503715500827289,0.000470542660842213,0.000439279825709102,0.000409837863335330,0.000382130290937320,0.000356073306292328,0.000331585808800060,0.000308589410966619,0.000287008440922124,0.000266769936579316,0.000247803632033836,0.000230041936797741,0.000213419908446509,0.000197875219246499,0.000183348117314711,0.000169781382846039,0.000157120279925156,0.000145312504420978,0.000134308128441418,0.000124059541805165,0.000114521390965584,0.000105650515799725,9.74058846530241e-05,8.97485280077119e-05,8.26414711203129e-05,7.60496659511321e-05,6.99399226862952e-05,6.42808411309205e-05,5.90427422304089e-05,5.41975999557326e-05,4.97189737680683e-05,4.55819418582120e-05,4.17630353369868e-05,3.82401735343707e-05,3.49926005473471e-05,3.20008231595755e-05,2.92465502398858e-05,2.67126337113653e-05,2.43830111684166e-05,2.22426502056405e-05,2.02774945097307e-05,1.84744117537507e-05,1.68211433221911e-05,1.53062558850594e-05,1.39190948299181e-05,1.26497395522370e-05,1.14889605966393e-05,1.04281786345711e-05,9.45942525758160e-06,8.57530555973617e-06,7.76896247766440e-06,7.03404285234051e-06,6.36466517286607e-06,5.75538895924639e-06,5.20118573838420e-06,4.69741156522828e-06,4.23978103917175e-06,3.82434276436785e-06,3.44745620158442e-06,3.10576985852081e-06,2.79620076513555e-06,2.51591518044618e-06,2.26231047743922e-06,2.03299815314110e-06,1.82578791152186e-06,1.63867276771248e-06,1.46981512298666e-06,1.31753376106997e-06,1.18029171757210e-06,1.05668497567227e-06,9.45431942607384e-07,8.45363662999288e-07];
		var narrowWeights = [0.0796887828189528,0.0788958661815778,0.0773336233605699,0.0750480693833876,0.0721053924923296,0.0685887710038768,0.0645944719335829,0.0602274864309609,0.0555969772261993,0.0508118112938378,0.0459764281368466,0.0411872537439950,0.0365298170778044,0.0320766654683839,0.0278861132890721,0.0240018001393971,0.0204529849127956,0.0172554637653023,0.0144129748672436,0.0119189412137632,0.00975840371583655,0.00791000831787405,0.00634793036713348,0.00504364398303888,0.00396747087835906,0.00308986942687904,0.00238244872152104,0.00181871250031821,0.00137455333812279,0.00102852818461079,0.000761952419644362,0.000558851682975890,0.000405809611459954,0.000291746160933349,0.000207656259132282,0.000146332892566062,0.000102092994868837,7.05191364734891e-05,4.82253160451987e-05,3.26512817532484e-05,2.18868086879601e-05,1.45251860604505e-05,9.54372730824099e-06,6.20828141157005e-06,3.99835934138456e-06,2.54946647636669e-06,1.60943649129846e-06,1.00590145771849e-06,6.22435115829789e-07,3.81320180624562e-07,2.31282380715957e-07,1.38884047077107e-07,8.25694197726000e-08,4.86007708216107e-08,2.83220142603224e-08,1.63403807570864e-08,9.33377359518851e-09,5.27848640714115e-09,2.95541591729601e-09,1.63826768069583e-09,8.99100366202649e-10,4.88526965361409e-10,2.62800363631177e-10,1.39965318971596e-10,7.38026523224914e-11,3.85283629587183e-11,1.99134358109940e-11,1.01898759176874e-11,5.16236428999735e-12,2.58931838766384e-12,1.28581745815073e-12,6.32164692293813e-13,3.07707590112255e-13,1.48287053994087e-13,7.07498169521976e-14,3.34198471407675e-14,1.56293405035400e-14,7.23658890222504e-15,3.31729585412463e-15,1.50553745780620e-15,6.76481586355731e-16,3.00938290341640e-16,1.32542749119375e-16,5.77951711605979e-17,2.49507835934151e-17,1.06643374716468e-17,4.51274325104127e-18,1.89062077638057e-18,7.84197190512829e-19,3.22035087576320e-19,1.30929695980437e-19,5.27023742774854e-20,2.10028996599407e-20,8.28677198939206e-21,3.23704380432588e-21,1.25189763385202e-21,4.79342697971017e-22,1.81710686239533e-22,6.81980373256013e-23,2.53408010436450e-23,9.32235972677271e-24,3.39538034688383e-24,1.22435697304942e-24,4.37103961600019e-25,1.54496441730258e-25,5.40641370647686e-26,1.87308344165696e-26,6.42483574324288e-27,2.18184547140896e-27,7.33572434207039e-28,2.44185051145531e-28,8.04733717656139e-29,2.62568352123081e-29,8.48183098197439e-30,2.71265088786627e-30,8.58925013587190e-31,2.69261122173989e-31,8.35697508908529e-32,2.56792076389522e-32,7.81216100815343e-33,2.35297767818197e-33,7.01651542193120e-34,2.07148701924167e-34,6.05480280486594e-35,1.75216437446131e-35,5.02003498170685e-36,1.42395313573086e-36,3.99891068443709e-37,1.11184633145432e-37,3.06058810334902e-38,8.34107563544267e-39,2.25058949826407e-39,6.01211905219949e-40,1.59006878153422e-40,4.16352623189536e-41,1.07935362556254e-41,2.77027740144518e-42,7.03946767599074e-43,1.77097909223668e-43,4.41107156895167e-44,1.08775685663260e-44,2.65568530250950e-45,6.41916362083991e-46,1.53616312780953e-46,3.63959686842030e-47,8.53741285970619e-48,1.98269695836812e-48,4.55872560131031e-49,1.03773775785840e-49,2.33877714242091e-50,5.21851718339850e-51,1.15282251596521e-51,2.52135987787752e-52,5.45964343700014e-53,1.17044437342267e-53,2.48424446735871e-54,5.22029372272994e-55,1.08605695950257e-55,2.23700688889639e-56,4.56182998271850e-57,9.21017589194464e-58,1.84100008425331e-58,3.64331521686543e-59,7.13833198850515e-60,1.38469394101671e-60,2.65930344839963e-61,5.05637245459178e-62,9.51847277353474e-63,1.77399561662648e-63,3.27336826745587e-64,5.97990450621205e-65,1.08156016829079e-65,1.93670813070334e-66,3.43348158235600e-67,6.02646062846217e-68,1.04724182845672e-68,1.80172577766645e-69,3.06893336753700e-70,5.17539237192197e-71,8.64084388509631e-72];
	</script>
	
	<script src="dropboxStuff.js" type="text/javascript">// DROPBOX STUFF</script>
	<script src="canvasSetup.js" type="text/javascript">// CANVAS SETUP</script>
	<script src="imageDisplay.js" type="text/javascript">// IMAGE DISPLAY</script>
	<script src="stateFuncs.js" type="text/javascript">// STATES</script>
	<script src="mouseAndTouchEvent.js" type="text/javascript">// MOUSE & TOUCH EVENTS</script>
	
	<script src="helperFuncs.js" type="text/javascript"></script>
</head>

<!-- ************* BODY *************** -->
<body style="position:relative; width:100vw; height:100vh; margin:0; padding:0; display:block;">
 <img id="fixgif" src="http://i.imgur.com/GDEowi5.png" hidden> 
 <div id="trialcounter"></div>
	<p id="headsuptext" style="z-index:99; position: absolute; left: 1px; top: 1px; font-size: 20px; color: white; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"></p>
	<canvas id="canvasheadsup" width="0" height="0" src="" style="z-index:98; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas0" width="0" height="0" src="" style="z-index:99; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas1" width="0" height="0" src="" style="z-index:1; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas2" width="0" height="0" src="" style="z-index:2; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas3" width="0" height="0" src="" style="z-index:3; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas4" width="0" height="0" src="" style="z-index:4; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas5" width="0" height="0" src="" style="z-index:5; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<canvas id="canvas6" width="0" height="0" src="" style="z-index:6; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>

	<!--<video id="video" style="z-index:0; position: absolute; right: 0px; top: 0px;" hidden></video>-->
	<canvas id="canvascaptureobj" width="0" height="0" src="" style="z-index:0; position: absolute; left: 0px; top: 0px; margin:0; padding:0; display:block;"> </canvas>
	<dialog id="subjid_dialog">
	  <p>Subject ID</p>
	 
	   <!--Pull down menu that will hold file list-->
		<select id="subjid_list">
		<option value="-1">--</option>
		</select>
	</dialog>
	<script src="runtimeTask.js" type="text/javascript"></script>
</body>

<!-- ************ COMMENT SECTION ************ -->
<!-- 
2015-08-26 - Modified by Walid Bendris to use Color-Shape matching paradigm for Bevil Conway


This code uses generators & promises from ESM6 harmony to implement a state machine.  This is experimental and only supported on modern browsers (see http://caniuse.com/#feat=promises for full support).

The reasons for using this approach are twofold:

(1) Solving the inversion of control with the old way of using async callbacks in javascript (http://blog.getify.com/promises-part-2/)
(2) readability of the code (http://davidwalsh.name/async-generators)

->(1) makes exception handling much easier
->(2) makes the code easier to edit in the future:
		"The main strength of generators is that they provide a single-threaded, synchronous-looking code style, while allowing you to hide the asynchronicity away as an implementation detail. This lets us express in a very natural way what the flow of our program's steps/statements is without simultaneously having to navigate asynchronous syntax and gotchas."

As of 2014.12.01, generators are not supported in safari and not in iOS (even Chrome for iOS is limited to apple webkit).  Could transpile but better to use a native Chrome environment (i.e. android tablet).


// Load audio webkit, see http://middleearmedia.com/controlling-web-audio-api-oscillators/
// var audiocontext = new webkitAudioContext(); // Create audio container with webkit prefix

// In case you're wondering why you can't use the devicePixelRatio to determine the backing store size, the answer is that they aren't guaranteed to match. Despite presenting the same devicePixelRatio value, Chrome and Safari 6 can and do have entirely different approaches for the backing store size (and therefore the webkitBackingStorePixelRatio) on HiDPI devices. The net result is that we can't rely on devicePixelRatio to know how the browser is going to scale images that are written into the canvas.  http://www.html5rocks.com/en/tutorials/canvas/hidpi/


-->
<!-- ************ /COMMENT SECTION ************ -->

</html>